{
  "resolution": {
    "function space": "StructuredColumns",
    "grid": {
      "type": "regular_lonlat",
      "N": "10"
    },
    "groups": [
      {
        "variables": ["temperature"],
        "levels": "2"
      }
    ],
    "halo": "1"
  },
  "model": {},
  "cost_function": {
    "cost_type": "4D-Ens-Var",
    "window_begin": "2010-01-01T06:00:00Z",
    "window_length": "PT12H",
    "window_sub": "PT6H",
    "variables": ["temperature"],
    "Jb": {
      "Background": {
        "state": [
          {
            "date": "2010-01-01T06:00:00Z",
            "variables": ["temperature"],
            "filepath": "testdata/glb_bkg_06_000001"
          },
          {
            "date": "2010-01-01T12:00:00Z",
            "variables": ["temperature"],
            "filepath": "testdata/glb_bkg_12_000001"
          },
          {
            "date": "2010-01-01T18:00:00Z",
            "variables": ["temperature"],
            "filepath": "testdata/glb_bkg_18_000001"
          }
        ]
      },
      "Covariance": {
        "covariance": "ensemble",
        "ensemble": [
          {
            "variables": ["temperature"],
            "members": "10",
            "state": [
              {
                "date": "2010-01-01T06:00:00Z",
                "filepath": "testdata/glb_ens_06_000001",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T06:00:00Z",
                "filepath": "testdata/glb_ens_06_000002",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T06:00:00Z",
                "filepath": "testdata/glb_ens_06_000003",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T06:00:00Z",
                "filepath": "testdata/glb_ens_06_000004",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T06:00:00Z",
                "filepath": "testdata/glb_ens_06_000005",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T06:00:00Z",
                "filepath": "testdata/glb_ens_06_000006",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T06:00:00Z",
                "filepath": "testdata/glb_ens_06_000007",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T06:00:00Z",
                "filepath": "testdata/glb_ens_06_000008",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T06:00:00Z",
                "filepath": "testdata/glb_ens_06_000009",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T06:00:00Z",
                "filepath": "testdata/glb_ens_06_000010",
                "state variables": ["temperature"]
              }
            ]
          },
          {
            "variables": ["temperature"],
            "members": "10",
            "state": [
              {
                "date": "2010-01-01T12:00:00Z",
                "filepath": "testdata/glb_ens_12_000001",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T12:00:00Z",
                "filepath": "testdata/glb_ens_12_000002",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T12:00:00Z",
                "filepath": "testdata/glb_ens_12_000003",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T12:00:00Z",
                "filepath": "testdata/glb_ens_12_000004",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T12:00:00Z",
                "filepath": "testdata/glb_ens_12_000005",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T12:00:00Z",
                "filepath": "testdata/glb_ens_12_000006",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T12:00:00Z",
                "filepath": "testdata/glb_ens_12_000007",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T12:00:00Z",
                "filepath": "testdata/glb_ens_12_000008",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T12:00:00Z",
                "filepath": "testdata/glb_ens_12_000009",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T12:00:00Z",
                "filepath": "testdata/glb_ens_12_000010",
                "state variables": ["temperature"]
              }
            ]
          },
          {
            "variables": ["temperature"],
            "members": "10",
            "state": [
              {
                "date": "2010-01-01T18:00:00Z",
                "filepath": "testdata/glb_ens_18_000001",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T18:00:00Z",
                "filepath": "testdata/glb_ens_18_000002",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T18:00:00Z",
                "filepath": "testdata/glb_ens_18_000003",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T18:00:00Z",
                "filepath": "testdata/glb_ens_18_000004",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T18:00:00Z",
                "filepath": "testdata/glb_ens_18_000005",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T18:00:00Z",
                "filepath": "testdata/glb_ens_18_000006",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T18:00:00Z",
                "filepath": "testdata/glb_ens_18_000007",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T18:00:00Z",
                "filepath": "testdata/glb_ens_18_000008",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T18:00:00Z",
                "filepath": "testdata/glb_ens_18_000009",
                "state variables": ["temperature"]
              },
              {
                "date": "2010-01-01T18:00:00Z",
                "filepath": "testdata/glb_ens_18_000010",
                "state variables": ["temperature"]
              }
            ]
          }
        ],
        "localization": {
          "localization": "SABER",
          "variables": ["temperature"],
          "saber central block": {
            "saber block name": "BUMP_NICAS",
            "read": {
              "drivers": {
                "multivariate strategy": "univariate",
                "compute nicas": "true"
              },
              "nicas": {
                "resolution": "4.0",
                "explicit length-scales": "true",
                "horizontal length-scale": [
                 {
                    "groups": ["temperature"],
                    "value": "4.0e6"
                  }
                ],
                "vertical length-scale": [
                  {
                    "groups": ["temperature"],
                    "value": "3.0"
                  }
                ]
              }
            }
          }
        }
      }
    },
    "Jo": {
      "ObsTypes": [
        {
          "ObsType": "default",
          "ObsData": {
            "ObsDataInScreened": {
              "filepath": "testdata/glb_obs_06"
            },
            "ObsDataOutScreened": {
              "filepath": "testdata/glb_obs_4densvar_06"
            },
            "obsvalue": "ObsValue"
          },
          "Covariance": {
            "ObsErrorCovariance": {
              "covariance": "diagonal",
              "obserror": "ObsError"
            }
          },
          "variables": ["temperature"]
        },
        {
          "ObsType": "default",
          "ObsData": {
            "ObsDataInScreened": {
              "filepath": "testdata/glb_obs_12"
            },
            "ObsDataOutScreened": {
              "filepath": "testdata/glb_obs_4densvar"
            },
            "obsvalue": "ObsValue"
          },
          "Covariance": {
            "ObsErrorCovariance": {
              "covariance": "diagonal",
              "obserror": "ObsError"
            }
          },
          "variables": ["temperature"]
        },
        {
          "ObsType": "default",
          "ObsData": {
            "ObsDataInScreened": {
              "filepath": "testdata/glb_obs_18"
            },
            "ObsDataOutScreened": {
              "filepath": "testdata/glb_obs_4densvar"
            },
            "obsvalue": "ObsValue"
          },
          "Covariance": {
            "ObsErrorCovariance": {
              "covariance": "diagonal",
              "obserror": "ObsError"
            }
          },
          "variables": ["temperature"]
        }
      ]
    }
  },
  "minimizer": {
    "algorithm": "DRIPCG"
  },
  "output": {
    "filepath": "testdata/glb_4densvar",
    "date": "2010-01-01T06:00:00Z"
  },
  "variational": {
    "iteration": [
      {
        "resolution": {
          "function space": "StructuredColumns",
          "grid": {
            "type": "regular_lonlat",
            "N": "10"
          },
          "groups": [
            {
              "variables": ["temperature"],
              "levels": "2"
            }
          ],
          "halo": "1"
        },
        "timeslot": "PT6H",                
        "linearmodel": {
          "version": "default",
          "tstep": "PT6H",
          "trajectory": {
            "forcing": {
              "variables": ["temperature"]
            }
          }
        },
        "ninner": "10",
        "gradient_norm_reduction": "1e-10",
        "test": "on",
        "diagnostics": {
          "departures": {
            "obsvalue": "ombg"
          }
        }
      },
      {
        "resolution": {
          "function space": "StructuredColumns",
          "grid": {
            "type": "regular_lonlat",
            "N": "10"
          },
          "groups": [
            {
              "variables": ["temperature"],
              "levels": "2"
            }
          ],
          "halo": "1"
        },
        "timeslot": "PT6H",                        
        "linearmodel": {
          "version": "default",
          "tstep": "PT6H",
          "trajectory": {
            "forcing": {
              "variables": ["temperature"]
            }
          }
        },
        "ninner": "10",
        "gradient_norm_reduction": "1e-10",
        "test": "on"
      }
    ]
  },
  "final": {
    "prints": {
      "frequency": "PT6H"
    },
    "diagnostics": {
      "departures": {
        "obsvalue": "oman"
      }
    }
  }
}
